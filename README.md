# Caffe-Parser

Markdown parser made by cffnpwr.

## 対応記法

以下の記法に対応しています。
基本的には[CommonMark](https://spec.commonmark.org/0.30/)に準拠しています。
CommonMark以外の記法は以下のものを使用可能です。

### チェックリスト

チェックリストは以下のように記述します。

```md
- [ ] 未完了
- [x] 完了
```

### ルビ

ルビは以下のように記述します。
ルビを振りたい文字列の後に`《》`で囲んだルビを記述します。
また、ルビを振りたい位置を`｜`で指定することで、`｜`と`《`の間の文字列にルビを振ることができます。

なお、ルビを振る文字列をしてしなかった場合、`《`の前にある連続した同一unicode scriptの文字列に対してルビを振ります。

```md
僕は抽斗《ひきだし》を開けた。

取捨｜選択《せんたく》
```

## Parse flow

1. 見出し・リスト・コードブロック・引用・水平線・段落で分割
2. 各プロック内でパースする
    1. 見出し内にはインライン要素のみが入ることができる
    2. リスト内にはブロック要素のみが入ることができる
    3. コードブロック内には文字列のみが入ることができる
    4. 引用内にはブロック要素のみが入ることができる
    5. 水平線は単体である
    6. 段落内にはインライン要素のみが入ることができる
3. 各要素の内部が文字列のみになるまで内部をパースする